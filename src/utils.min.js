!function(t,e){"use strict";"function"==typeof define&&define.amd?define("my-utils",[],e):"undefined"!=typeof exports?module.exports=e():t.utils=e()}(this,function(){"use strict";var t=function(){function t(){if("undefined"!=typeof window){this._id=0,this._vendor={},this._readyList=[],this._readyFired=!1,this._readyEventHandlersInstalled=!1,this._initVendors(),this.supportsTransitions=this.supportsTransitions(),this.supportsPlaceholder=this.supportsPlaceholder(),this.supportsPerspective=this.supportsPerspective(),this.supportsColumns=this.supportsColumns(),this.supportsVUnints=this.supportsVUnints();var t=this.getDocument(),e=this.getWindow();this.domReady(function(){this.supportsVUnints()&&t.body.classList.add("vunits")}.bind(this)),function(){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(n,r){var i=(new Date).getTime(),o=Math.max(0,16-(i-t)),s=e.setTimeout(function(){n(i+o)},o);return t=i+o,s}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){clearTimeout(t)})}()}}return t.prototype.isMobile=function(){var t=this.getWindow();return/iphone|ipad|ipod|android/i.test(t.navigator.userAgent.toLowerCase())},t.prototype.getWindow=function(t){var e=this.getDocument(t);return e&&e.defaultView||e.parentWindow},t.prototype.getDocument=function(t){return t&&t.ownerDocument||document},t.prototype.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},t.prototype.ajax=function(t,e,n,r){var i=this;return new Promise(function(o,s){var a=null,u=new XMLHttpRequest;if(u.onreadystatechange=function(){if(4==u.readyState)if(200==u.status){var t=JSON.parse(u.responseText);o(t)}else s(u.statusText)},r&&r.withCredentials&&(u.withCredentials=!0),"post"==t.toLowerCase())"undefined"!=typeof FormData&&n instanceof FormData?(a=n,u.open(t,e,!0)):(a=i.serialize(n),a=a+"&t="+Math.random(),u.open(t,e,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"));else{var d=i.serialize(n),c=e+"?"+d;c+="&t="+Math.random(),u.open(t,c,!0)}u.send(a)})},t.prototype.serialize=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.prototype.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.prototype.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},t.prototype.isString=function(t){var e=typeof t;return"string"===e&&!!t},t.prototype.isFunction=function(t,e){var n=e||"Function";return Object.prototype.toString.call(t)==="[object "+n+"]"},t.prototype.extend=function(t,e,n){var r,i,o,s,a,u=t||{},d=(arguments.length,n),c=e;"object"==typeof u||this.isFunction(u)||(u={});for(s in c)if(e.hasOwnProperty(s)){if(r=u[s],o=c[s],u===o)continue;d&&o&&this.isObject(o)&&!this.isFunction(o)?(i=this.isArray(o),i?(i=!1,a=r&&this.isArray(r)?r:[]):a=r?r:{},u[s]=this.extend(a,o,d)):void 0!==o&&(u[s]=o)}return u},t.prototype.getWiddowWidth=function(){var t=this.getDocument();return t.documentElement.clientWidth||t.body.clientWidth},t.prototype.getWiddowHeight=function(){var t=this.getDocument();return t.documentElement.clientHeight||t.body.clientHeight},t.prototype.getWiddowScrollTop=function(){var t=this.getDocument(),e=this.getWindow();return e.pageYOffset||t.documentElement.scrollTop||t.body.scrollTop},t.prototype.supportsTransitions=function(){var t=this.getDocument(),e=t.createElement("div").style,n=this.getPrefixedPropertyName("transition")in e;return function(){return n}},t.prototype.supportsPlaceholder=function(){var t=this.getDocument(),e=t.createElement("input"),n="undefined"!=typeof e.placeholder;return function(){return n}},t.prototype.supportsPerspective=function(){var t=this.getDocument(),e=t.createElement("div").style,n=this.getPrefixedPropertyName("perspective")in e;return function(){return n}},t.prototype.supportsColumns=function(){for(var t=this.getDocument(),e=t.createElement("div").style,n=!1,r=["columnCount","webkitColumnCount","WebkitColumnCount","MozColumnCount","msColumnCount","MsColumnCount","OColumnCount"],i=0,o=r.length;i<o;i++){var s=r[i];if(s in e)return n=!0,function(){return n}}return function(){return n}},t.prototype.supportsVUnints=function(){var t=!0,e=this.getDocument(),n=this.getWindow(),r=e.createElement("div").style,i=["vw","vh"].filter(function(t){return r.width="",r.width="10"+t,!r.width});return i.length>0&&(t=!1),n.navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i)&&(t=!1),function(){return t}},t.prototype.getElementText=function(t){var e,n="",r=0,i=!1;if("undefined"==typeof t)return!1;if("undefined"!=typeof t.nodeType&&(i=t.nodeType),i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=this.getElementText(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=this.getElementText(e);return n},t.prototype.appendElement=function(t,e){var n=e;return"string"==typeof e&&(n=this.createElement(e,!0)),t.appendChild(n),t.lastChild},t.prototype.prependElement=function(t,e){var n=e;return"string"==typeof e&&(n=this.createElement(e,!0)),t.firstChild?(t.insertBefore(n,t.firstChild),t.firstChild):(t.appendChild(n),t.lastChild)},t.prototype.insertBeforeElement=function(t,e,n){if(!n)return this.appendElement(t,e);var r=e;return"string"==typeof e&&(r=this.createElement(e,!0)),t.insertBefore(r,n)},t.prototype.insertBefore=function(t,e,n){if(0===n)return this.prependElement(t,e);var r=t.children[n];if(!r)return this.appendElement(t,e);var i=e;return"string"==typeof e&&(i=this.createElement(e,!0)),i===r?r:(t.insertBefore(i,r),t.children[n])},t.prototype.clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.createElement=function(t,e){var n=this.getDocument(),r=n.createDocumentFragment(),i=n.createElement("div");for(i.innerHTML=t;i.childNodes[0];)r.appendChild(i.childNodes[0]);return e?r:r.childNodes[0]},t.prototype.getElementIndex=function(t){for(var e=0;t.previousSibling;)t=t.previousSibling,1===t.nodeType&&e++;return e},t.prototype.isElementMatched=function(t,e){var n=this.getDocument(),r=Element.prototype,i=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(t){return[].indexOf.call(n.querySelectorAll(t),this)!==-1};return i.call(t,e)},t.prototype.getElementClosest=function(t,e){if(t.closest)return t.closest(e);for(;t&&!this.isElementMatched(t,e);)t=t.parentElement;return t},t.prototype.addEventListener=function(t,e,n,r){function i(t,e,n,r){var i=function(e){var i=e||u.event,s=i.target||i.srcElement,a=!1;do{if(s==t)return;o.isElementMatched(s,n)&&(a=s,s={parentElement:!1,parentNode:!1})}while(s=s.parentElement||s.parentNode);a&&r.call(a,i)};return t.addEventListener(e,i),i}var o=this,s=[];if(t){var a=this.getDocument(),u=this.getWindow();if("function"==typeof n&&(r=n,n=!1),r=r||function(){},this.isString(t)?t=a.querySelectorAll(t):t.length||(t=[t]),t=Array.prototype.slice.call(t,0),0!==t.length)return t.forEach(function(t){if(n){var o=i(t,e,n,r);s.push(o)}else t.addEventListener(e,r)}),function(){t.forEach(function(t,i){n?(t.removeEventListener(e,s[i]),s[i]=null):t.removeEventListener(e,r)}),t=null}}},t.prototype.transitionEnd=function(t,e,n,r){function i(r){r.target==t&&r.target.classList.contains(e)&&(t.removeEventListener("transitionend",i,!1),t.removeEventListener("msTransitionEnd",i,!1),t.removeEventListener("mozTransitionEnd",i,!1),t.removeEventListener("webkitTransitionEnd",i,!1),clearTimeout(s),n(),t=null)}function o(){if(t){var e={target:t};i(e)}}n=n||function(){};var s=null,a=r||5e3;return s=setTimeout(o,a),t.addEventListener("transitionend",i,!1),t.addEventListener("msTransitionEnd",i,!1),t.addEventListener("mozTransitionEnd",i,!1),t.addEventListener("webkitTransitionEnd",i,!1),o},t.prototype.animateCss=function(t,e,n){function r(){var n=0;for(var r in e)e.hasOwnProperty(r)&&("transform"==r&&(r=s.getPrefixedStyleValue(r)),y+=(0===n?"":", ")+r,n++);y&&(t.style[l]=y),f&&(t.style[f]=v),h&&(t.style[h]=g),m&&(t.style[m]=E)}function i(){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=s.getCameCaseString(n),"transform"==n&&(n=s.getPrefixedPropertyName(n)),t.style[n]=r}}function o(e){e&&e.target!=t||(t.removeEventListener(p,o,!1),y&&(t.style[l]=""),f&&(t.style[f]=""),h&&(t.style[h]=""),m&&(t.style[m]=""),"function"==typeof d.onComplete&&d.onComplete())}var s=this,a=20,u={duration:0,delay:0,easing:"",onComplete:function(){}},d=this.extend(u,n),c={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},p=c[this.getPrefixedPropertyName("transition")],l=this.getPrefixedPropertyName("transitionProperty"),f=this.getPrefixedPropertyName("transitionDuration"),h=this.getPrefixedPropertyName("transitionTimingFunction"),m=this.getPrefixedPropertyName("transitionDelay"),y="",v=d.duration?d.duration/1e3+"s":0,g=d.easing?d.easing:"",E=d.delay?d.delay/1e3+"s":0;v||E?(setTimeout(function(){r(),i()},a),t.addEventListener(p,o,!1)):(i(),o())},t.prototype._initVendors=function(){var t,e,n,r,i,o,s,a,u=this.getDocument();for(a=u.createElement("div").style,i=["t","webkitT","MozT","msT","OT"],r=["","-webkit-","-moz-","-ms-","-o-"],t=o=0,s=i.length;o<s;t=++o)if(n=i[t],e=i[t]+"ransform",e in a)return void(this._vendor={js:i[t].substr(0,i[t].length-1),css:r[t]});this._vendor={js:!1,css:!1}},t.prototype.getPrefixedPropertyName=function(t){return this._vendor.js!==!1&&(""===this._vendor.js?t:this._vendor.js+t.charAt(0).toUpperCase()+t.substr(1))},t.prototype.getPrefixedStyleValue=function(t){return this._vendor.css!==!1&&(""===this._vendor.css?t:this._vendor.css+t)},t.prototype.getPrefixedEventType=function(t){return this._vendor.js!==!1&&(""===this._vendor.js?t.toLowerCase():this._vendor.js.toLowerCase()+t)},t.prototype.getCameCaseString=function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},t.prototype._ready=function(){if(!this._readyFired){this._readyFired=!0;for(var t=0;t<this._readyList.length;t++)this._readyList[t].fn();this._readyList=[]}},t.prototype._readyStateChange=function(){var t=this.getDocument();"complete"===t.readyState&&this._ready()},t.prototype.domReady=function(t){var e=this,n=this.getDocument(),r=this.getWindow();return this._readyFired?void setTimeout(function(){t()},1):(this._readyList.push({fn:t}),void("complete"===n.readyState?setTimeout(function(){e._ready()},1):this._readyEventHandlersInstalled||(n.addEventListener?(n.addEventListener("DOMContentLoaded",function(){e._ready()},!1),r.addEventListener("load",function(){e._ready()},!1)):(n.attachEvent("onreadystatechange",function(){e._readyStateChange()}),r.attachEvent("onload",function(){e._ready()})),this._readyEventHandlersInstalled=!0)))},t.prototype.scrollTo=function(t,e,n){n=n||function(){};var r=this.getDocument(),i=this.getWindow(),o=r.body,s=o.scrollTop,a=5;t<s&&(a*=-1);var u=function(){if(Math.abs(s-t)<=5)return n();s+=a,o.scrollTop=s,i.scrollTo&&i.scrollTo(0,s);var e=r.querySelector("html");e.scrollTo&&e.scrollTo(0,s);var d=50;setTimeout(function(){requestAnimationFrame(u)},1e3/d)};u()},t}(),e=new t;return e.UtilService=t,e});